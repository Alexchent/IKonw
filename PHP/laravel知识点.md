## laravel服务容器实现原理

### 什么是服务容器
> Laravel 服务容器是一个用于管理类依赖以及实现依赖注入的强有力工具

laravel框架就是使用服务容器实现**控制反转**和**依赖注入**

#### 零配置解决方案
如果一个类没有依赖项或只依赖于其他**具体类**（而不是接口），则不需要指定容器如何解析该类

#### 绑定
首先，如果你编写了一个**实现接口的类**，并希望在路由或类的构造函数上**键入该接口的提示**，则必须 **告诉容器如何解析该接口**。第二，如果你正在 编写一个 Laravel 包 计划与其他 Laravel 开发人员共享，那么你可能需要将包的服务绑定到容器中

### 什么是控制反转（LoC）和依赖注入（DI）


> 控制反转 就是把**创建对象的控制权**进行转移，由自身控制交给容器控制。
>
> 依赖注入 就是在帮容器实现在运行状态为对象提供依赖的资源

### Laravel容易依赖注入的实现原理

主要利用了 **闭包** 和 **反射**

> 闭包（匿名函数）：
匿名函数（Anonymous functions），也叫闭包函数（closures），允许 临时创建一个没有指定名称的函数
>
> 反射：PHP 5 以上版本具有完整的反射 API，添加了对类、接口、函数、方法和扩展进行反向工程的能力。 此外，反射 API 提供了方法来取出函数、类和方法中的文档注释

如果bind的是一个闭包，那么依赖注入时，调用的就是这个闭包。如果没有进行bind或bind的就是类名，那么会通过反射找到类的创建函数，生成闭包创建这个类对象。

参考文章：
> [laravel 10 中文文档](https://learnku.com/docs/laravel/10.x/container/14842)
> 
> [Laravel 服务容器实现原理
](https://learnku.com/articles/4977/laravel-service-container-implementation-principle#029336)

## laravel框架的特点
- **简洁优雅**：Laravel提供了清晰、简洁的语法和代码结构，使开发变得更加优雅和易于理解。

- MVC架构：Laravel采用了MVC（Model-View-Controller）架构，将应用程序的不同层进行了清晰的分离，提高了代码的可维护性和可扩展性。

- **强大的路由系统**：Laravel的路由系统非常灵活，可以轻松地定义URL路由和重定向，使开发者能够更好地管理应用程序的URL结构。

- **数据库迁移**：Laravel提供了数据库迁移工具，可以轻松地管理数据库结构的变更，方便团队协作和版本控制。

- **ORM支持**：Laravel集成了Eloquent ORM，提供了简洁、强大的数据库操作接口，使开发者能够更加高效地进行数据库操作。

- 强大的模板引擎：Laravel使用Blade模板引擎，提供了丰富的模板语法和功能，使开发者能够更好地组织和渲染视图。

- **丰富的扩展包**：Laravel拥有一个活跃的社区，提供了大量的扩展包，可以轻松地集成各种功能和第三方服务。

- **测试支持**：Laravel内置了强大的测试工具，可以轻松地编写和运行各种单元测试和功能测试，保证应用程序的质量。

## laravel框架与Yii怎么选

怎么选择框架主要取决于两点：
1. 提高工作效率
2. 学习成本，官方资料的完善程度和社区的活跃性
3. 框架的性能


选择使用Yii框架还是Laravel框架，取决于您的具体需求和个人偏好。以下是它们之间的一些比较：

- 文档和教程：Laravel拥有更丰富全面的官方文档和教程资源，易于入门和学习。
- 学习曲线：Laravel相对于Yii来说，可能有稍微陡峭一些的学习曲线，因为Laravel更注重灵活性和创新性，提供了更多的功能和概念。Yii则更加注重简洁和效率，学习起来可能会更容易一些。
- 社区和生态系统：Laravel拥有庞大活跃的社区和丰富的扩展包，可以轻松地集成各种功能和服务。Yii的社区相对较小，但也有一些优秀的扩展包可供使用。
- 性能和效率：Yii框架在性能方面表现出色，被认为是一个高效的框架。Laravel则更加注重开发人员的开发效率和舒适度，提供了更多的开箱即用的功能和工具。

综上所述，如果您更注重灵活性、创新性和功能丰富的框架，同时愿意花一些时间学习和掌握新的概念和技术，那么选择Laravel可能更适合。如果您更注重简洁、高效和性能的框架，同时希望快速上手和开发，那么选择Yii可能更适合。最好的选择是根据您的项目需求、团队技术水平和个人喜好来进行评估和决策
# tcp滑动窗口

tcp 是面向连接的可靠的基于字节流的传输层协议

tcp通过滑动窗口解决了流量控制问题、顺序问题、丢包问题

- 数据分片

发送端会对用户数据进行分片，在接收端重组

- 累计确认&超时重传

接收端，收到数据分片不会每个都确认，而是按序号缓存下来，等所有的分片都达到在返回ACK确认，如果超过一定的时间数据仍不完整，会丢弃这些分片。发送端超过一定时间没有收到ACK，会重新发送

- 滑动窗口

tcp连接的每一方的接收缓冲空间大小都是固定，接收端只允许发送端发送（接收端）缓冲空间能够容纳的数据。tcp在滑动窗口的基础上提供了流量控制

- 时序处理

tcp数据分片到达是可能失序，接收端需要按序号重新排序，将接收的数据以正确的顺序交给应用层

- 数据校验

tcp保持它首部和数据校验和，目的是检测数据在数据过程中是否发生变化，如果发生变化。如果收到的校验和有差错，那么接收端会丢弃分片且不发送确认，让发送端超时重传。
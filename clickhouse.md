# clickhouse

ClickHouse是一个用于联机分析(OLAP)的列式数据库管理系统(DBMS)。

## OLAP 和OLTP
> 在线分析处理 (OLAP) 是一种用于对大量数据进行高速**多维分析**的系统
> 
> 在线事务处理 (OLTP) 支持大量人员（通常通过 Internet）实时执行大量数据库**事务**

OLAP适用于数据分析，OLTP适用于事务处理

## 适合OLAP场景的原因
### 列式数存储
1. 针对分析类型查询，通常只需要读取表中的一部分列。在列式数据库中你可以只读取你需要的数据。比如有100列，我们只查询5列，这样就减少大量I/O消耗。
2. 由于数据是打包批量读取的，所以压缩非常容易，同时数据按列存储，这样也更容易压缩，进一步降低的I/O的体积

### 向量引擎
为了高效的使用CPU，数据不仅仅按列存储，同时还按向量(列的一部分)进行处理，这样可以更加高效地使用CPU


### 实时的数据更新
ClickHouse支持在表中定义主键。为了使查询能够快速在主键中进行范围查找，数据总是以增量的方式有序的存储在MergeTree中。因此，数据可以持续不断地高效的写入到表中，并且写入的过程中不会存在任何加锁的行为。

### 索引
按照主键对数据进行排序，这将帮助ClickHouse在几十毫秒以内完成对数据特定值或范围的查找。

